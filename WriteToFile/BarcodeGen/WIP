import java.util.*; // https://docs.oracle.com/javase/7/docs/api/java/util/package-summary.html
import java.io.*; // https://docs.oracle.com/javase/7/docs/api/java/io/package-summary.html

import net.sourceforge.barbecue.BarcodeException;
import net.sourceforge.barbecue.BarcodeFactory; // http://barbecue.sourceforge.net/apidocs/net/sourceforge/barbecue/BarcodeFactory.html



/* //TO DO
 * https://stackoverflow.com/questions/1700597/barcode-image-generator-in-java
 *  read and correctly output text from file designated in method writeToFile
 *  
 *  http://www.onbarcode.com/tutorial/java-barcode-generation.html#2
 */

class Writer{
	
	static String path = "";
	static String userName = "";
	static int numBarcodes = 0;
	
	public static void writeToFile(String user, String name, String[] content) throws FileNotFoundException, UnsupportedEncodingException {
		PrintWriter writer = new PrintWriter("C:\\Users\\"+user+"\\Desktop\\"+name+".txt", "UTF-8");
		path = "C:\\Users\\"+user+"\\Desktop\\"+name+".txt";
		userName = user;
		for(int i = 0; i < content.length; i++) {
			writer.println(content[i]);
		}
		writer.close();
		Reader.main(null);
	}

	public static void createFile(String[] list) {
		Scanner scan = new Scanner(System.in);
		
		System.out.println("Input your username:");
		String username = scan.nextLine();
		System.out.println("Input a file name, this will create a new file..");
		String fileName = scan.nextLine();
		
		try {
			writeToFile(username,fileName,list);
		} catch (FileNotFoundException e) {
			System.err.println("FileNotFoundException"+"\n"+e);
			e.printStackTrace();
		} catch (UnsupportedEncodingException e) {
			System.err.println("UnsupportedEncodingException"+"\n"+e);
			e.printStackTrace();
		} finally {
			scan.close();
		}
	}
	
	public static String[] createList() {
		@SuppressWarnings("resource")
		Scanner scan = new Scanner(System.in);
		int count = 0;
		System.out.println("How many values would you like to enter?");
		int stop = scan.nextInt();
		scan.nextLine();
		
		numBarcodes = stop;
		String[] list = new String[stop];
		
		while(count < stop) {
			System.out.println("Enter a value: ");
			list[count] = scan.nextLine();
			count++;
		}//end while
		return list;
	}
	
	
	public static void main(String []args) throws BarcodeException 
	{	
		//Reader.main(null);
		System.out.print(BarcodeFactory.createCode39("60350337",true));
		createFile(createList());
		
		
	}//end of main
	
}//end writer class

class Reader{
	public static void createDir() {
		Scanner scan = new Scanner(System.in);
		System.out.println("Enter a folder name: ");
		String folderName = scan.nextLine();
		File dir = new File("C:\\Users\\"+Writer.userName+"\\Desktop\\"+folderName);
		dir.mkdir();
		scan.close();
	}
	
	public static String[] readFromFile(String path) throws FileNotFoundException {
		File file = new File(path);
		Scanner scan = new Scanner(file);
		String [] barcodeList = new String[Writer.numBarcodes];
		//scan.hasNextLine()
		for(int i = 0; i < Writer.numBarcodes; i++) {
			barcodeList[i] = scan.nextLine();
		}
		scan.close();
		return barcodeList;
	}
	
	public static void main(String []args) {
		try {
			readFromFile(Writer.path);
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		}
	}
}
